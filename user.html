<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Dashboard</title>
  <link rel="stylesheet" href="user.css" />
</head>

<body>

  <header class="hero">
    <h1>Selamat Datang, <span id="userEmail">Pengguna</span>!</h1>
    <p>Lihat harga Antam terkini di bawah ini.</p>
    <button id="logoutBtn" class="nav-logout">Logout</button>
    <a href="user_login.html" class="nav-logout">back</a>
  </header>

  <main class="main-content">
    <!-- TradingView Mini Chart: Emas (XAU/USD) -->
    <div class="gold-chart-container">
      <iframe
        src="https://s.tradingview.com/embed-widget/mini-symbol-overview/?locale=id#%7B%22symbol%22%3A%22OANDA%3AXAUUSD%22%2C%22width%22%3A%22100%25%22%2C%22height%22%3A%22220%22%2C%22dateRange%22%3A%221D%22%2C%22colorTheme%22%3A%22light%22%2C%22isTransparent%22%3Afalse%2C%22autosize%22%3Atrue%7D"
        style="border: none; width: 100%; height: 220px;" allowtransparency="true" scrolling="no">
      </iframe>
    </div>

    <section id="harga" class="section">
      <h2>Harga Antam Hari Ini</h2>
      <div id="goldPrice" class="price-box">Memuat...</div>
      <button id="refreshPrice" class="btn">Refresh Harga</button>
      
    </section>
     <div class="container">
    <h2 class="mb-4 text-center">Daftar Produk Perhiasan</h2>
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nama Produk</th>
          <th>Deskripsi</th>
          <th>Harga</th>
          <th>Tanggal Dibuat</th>
        </tr>
      </thead>
      <tbody id="produk-body">
        <tr><td colspan="5" class="text-center">Memuat data...</td></tr>
      </tbody>
    </table>
  </div>



    <section id="transaksi" class="section">
      <h2>Transaksi Antam</h2>

      <div class="tabs">
        <button class="tab-btn active" data-tab="beli">Beli Antam</button>
        <button class="tab-btn" data-tab="jual">Jual Antam</button>
        <button class="tab-btn" data-tab="jualPerhiasan">Jual Perhiasan</button>
      </div>

      <div class="form-container">
        <!-- Form Beli -->
        <form id="beliForm" class="tab-content active" enctype="multipart/form-data">
          <h3>Form Pembelian</h3>
          <input type="number" id="jumlahBeli" name="jumlah" placeholder="Masukkan jumlah gram" required />
          <div id="totalHargaBeli" class="total-harga"></div>
          <select name="deliveryMethod" id="deliveryBeli">
            <option value="ambil">Ambil di tempat</option>
            <option value="cod">COD (dikirim)</option>
          </select>
          <input type="text" name="address" placeholder="Alamat (jika COD)" class="address-field" />
          <label>Bukti Transfer</label>
          <input type="file" name="proof" accept="image/*" required />
          <button type="submit" class="btn">Kirim Pembelian</button>
          <p class="response" id="beliResponse"></p>
        </form>

        <!-- Form Jual -->
        <form id="jualForm" class="tab-content" enctype="multipart/form-data">
          <h3>Form Penjualan</h3>
          <input type="number" id="jumlahJual" name="jumlah" placeholder="Masukkan jumlah gram" required />
          <div id="totalHargaJual" class="total-harga"></div>
          <select name="deliveryMethod" id="deliveryJual">
            <option value="ambil">Antar ke lokasi</option>
            <option value="cod">Temui petugas (COD)</option>
          </select>
          <input type="text" name="address" placeholder="Alamat (jika COD)" class="address-field" />
          <label>Bukti Transfer</label>
          <input type="file" name="proof" accept="image/*" required />
          <button type="submit" class="btn">Kirim Penjualan</button>
          <p class="response" id="jualResponse"></p>
        </form>

        <!-- Form Jual Perhiasan -->
        <!-- Form Jual Perhiasan -->
        <form id="jualPerhiasanForm" class="tab-content">
          <h3>Form Penjualan Perhiasan</h3>
          <label for="produkSelect">Pilih Produk Perhiasan</label>
          <select name="productId" id="produkSelect" required></select>

          <label for="jumlahPerhiasan">Jumlah Produk</label>
          <input type="number" id="jumlahPerhiasan" name="quantity" placeholder="Jumlah perhiasan" required />

          <div id="totalHargaPerhiasan" class="total-harga">Total: Rp 0</div>

          <label for="deliveryPerhiasan">Metode Pengiriman</label>
          <select name="deliveryMethod" id="deliveryPerhiasan">
            <option value="antar">Antar ke lokasi</option>
            <option value="cod">Temui petugas (COD)</option>
          </select>

          <input type="text" name="address" placeholder="Alamat (jika COD)" class="address-field" />
          <button type="submit" class="btn">Kirim Penjualan</button>

          <p class="response" id="perhiasanResponse"></p>
        </form>

      </div>



  <footer class="container-fluid footer_section ">
    <div class="container">
      <p>
        &copy; <span id="displayDate"></span> All Rights Reserved By
        <a href="https://html.design/">Hahdoh gold</a>
      </p>
    </div>
  </footer>
    </section>
  </main>
  <script src="user.js"></script>
</body>

</html>